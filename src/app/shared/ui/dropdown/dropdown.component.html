<div class="dropdown">
  <button
    (click)="toggle()"
    (keydown)="onKeyDown($event)"
    [attr.aria-expanded]="isOpen()"
    [attr.aria-label]="ariaLabel()"
    aria-haspopup="menu"
    ui-button
    size="small"
    variant="secondary"
    data-testid="dropdown-button"
  >
    <ellipsis-icon [size]="24" [attr.aria-hidden]="true" />
  </button>

  @if(isOpen()){
    <ul
      class="options"
      [ngClass]="position()"
      role="menu"
      [attr.aria-label]="ariaLabel()"
      data-testid="dropdown-options"
    >
      @for(option of options() ; track option){
        <li
          (click)="onSelect(option)"
          (keydown.enter)="onSelect(option)"
          role="menuitem"
          tabindex="0"
        >{{ option }}</li>
      } @empty {
        <li role="menuitem" [attr.aria-disabled]="true">{{ emptyOptions() }}</li>
      }
    </ul>
  }
</div>
